https://wiki.ros.org/ROS/Tutorials/Recording%20and%20playing%20back%20data

<데이터 기록 및 재생>

    이 튜토리얼에서는 실행 중인 ROS 시스템에서 데이터를 .bag 파일로 기록하는 방법과
    그 데이터를 재생하여 실행 중인 시스템에서 유사한 동작을 생성하는 방법을 배웁니다.

    <데이터 기록 (bag 파일 생성)>
    이 섹션에서는 실행 중인 ROS 시스템에서 토픽 데이터를 기록하는 방법에 대해 안내합니다.
    토픽 데이터는 bag 파일에 누적됩니다.

    먼저, 다음 명령어를 별도의 터미널에서 실행하세요
    <!-- 터미널 입력 -->
    roscore
    rosrun turtlesim turtlesim_node
    rosrun turtlesim turtle_teleop_key

    이렇게 하면 두 노드 - turtlesim 시각화 프로그램과
    키보드의 화살표 키를 사용하여 turtlesim을 제어할 수 있는 노드가 시작됩니다. 키보드로 거북이를 움직이면 화면에 거북이가 움직이는 것을 볼 수 있습니다.


<모든 퍼블리시된 토픽 기록>
    실행 중인 시스템에서 현재 퍼블리시되고 있는 모든 토픽의 전체 목록을 확인해봅시다.
    새 터미널을 열고 다음 명령어를 실행하세요:

    rostopic list -v

<bag 파일 기록 및 재생>
    <기록>
        <!-- 터미널 입력 -->
            rosbag record -a
            이 명령을 수행하면 기록이 시작됩니다.
    <재생>
        <!-- 터미널 입력 -->
            rosbag play 2023-12-04-18-44-23.bag


<데이터 하위 집합 기록>

    복잡한 시스템을 실행할 때 수백 가지 주제가 게시될 수 있으며
    카메라 이미지 스트림과 같은 일부 주제는 잠재적으로 엄청난 양의 데이터를 게시할 수 있습니다.
    이러한 시스템에서는 모든 항목으로 구성된 로그 파일을 단일 백 파일로 디스크에 기록하는 것이 종종 비현실적입니다.
    rosbag Record 명령은 특정 주제만 백 파일에 기록하는 기능을 지원하므로
    사용자는 관심 있는 주제만 기록할 수 있습니다.

    -O 인수는 rosbag 레코드가 subset.bag라는 파일에 로그하도록 지시하고
    주제 인수는 rosbag 레코드가 이 두 주제만 구독하도록 합니다.
    키보드 화살표 명령을 사용하여 몇 초 동안 거북이를 움직인 다음 rosbag 레코드에서 Ctrl-C를 누르세요 .

    이제 bag 파일( rosbag info subset.bag )의 내용을 확인하세요.
    표시된 주제만 포함된 다음과 같은 내용이 표시됩니다.